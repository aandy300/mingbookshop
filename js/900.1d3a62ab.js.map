{"version":3,"file":"js/900.1d3a62ab.js","mappings":"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","sources":["webpack://shop/./src/views/Front/CartView.vue","webpack://shop/./src/views/Front/CartView.vue?2af0"],"sourcesContent":["<template>\n<div class=\"container d-flex flex-column justify-content-center align-items-center\" style=\"min-height: 100vh\">\n  <div v-if=\"ready === true\" class=\"row col-12\">\n    <!-- card 付款狀態 -->\n    <div v-if=\"cartData.carts.length === 0\" class=\"d-flex justify-content-center my-5\">\n      <div class=\"col-md-6 border border-dark text-center\">\n        <div class=\"card-body\">\n          <strong ><p class=\"m-0 text-primary\" style=\"font-size: 2rem;\">購物車目前沒有東西</p></strong>\n          <router-link to=\"/products\">\n          <button type=\"button\" class=\"col-4 btn btn-outline-primary mt-2\">前去購買</button>\n          </router-link>\n        </div>\n      </div>\n    </div>\n    <!-- 購買步驟狀態 -->\n    <div v-else class=\"row d-flex flex-nowrap justify-content-center align-items-center\">\n      <div style=\"max-width: 18rem;\" class=\"col-3 d-none d-sm-block  text-white bg-secondary my-5 mx-4 rounded \">\n        <div class=\"d-flex flex-column flex-nowrap justify-content-center align-items-center\">\n        <i class=\"bi bi-dash-circle-dotted mt-2\" style=\"font-size:40px\"></i>\n          <p class=\"card-text text-center m-0\">Step1</p>\n          <p class=\"card-text text-center mb-2\">確認訂單</p>\n        </div>\n      </div>\n      <div style=\"max-width: 18rem;\" class=\"col-3 d-none d-sm-block  text-balck bg-info my-5 mx-4 rounded\">\n        <div class=\"d-flex flex-column flex-nowrap justify-content-center align-items-center\">\n          <i class=\"bi bi-dash-circle-dotted mt-2\" style=\"font-size:40px\"></i>\n          <p class=\"card-text text-center m-0\">Step2</p>\n          <p class=\"card-text text-center mb-2\">建立訂單</p>\n        </div>\n      </div>\n      <div style=\"max-width: 18rem;\" class=\"col-3 d-none d-sm-block  text-balck bg-info my-5 mx-4 rounded\">\n        <div class=\"d-flex flex-column flex-nowrap justify-content-center align-items-center\">\n          <i class=\"bi bi-dash-circle-dotted mt-2\" style=\"font-size:40px\"></i>\n          <p class=\"card-text text-center m-0\">Step3</p>\n          <p class=\"card-text text-center mb-2\">付款</p>\n        </div>\n      </div>\n      <!-- for rwd 顯示 單個 購買狀態 -->\n      <div style=\"max-width: 18rem;\" class=\"col-10 d-flex align-items-center d-block d-sm-none text-balck bg-info my-5 mx-4 rounded\">\n        <div class=\"d-flex flex-column flex-nowrap justify-content-center align-items-center col-12\">\n          <i class=\"bi bi-dash-circle-dotted mt-2 text-center\" style=\"font-size:40px;\"></i>\n          <p class=\"card-text text-center m-0\">Step1</p>\n          <p class=\"card-text text-center mb-2\">確認訂單</p>\n        </div>\n      </div>\n    </div>\n    <!-- 購物車列表商品資訊 All Start -->\n    <div v-if=\"cartData.carts.length > 0\" class=\"row\">\n      <!-- 購物車列表 - 商品列表 -->\n      <div class=\"col-xl-12\">\n        <div class=\"d-flex justify-content-between mb-2\">\n        <h4>訂單內容</h4>\n        <!-- 清空購物車 - 按鈕 -->\n        <div class=\"text-end\">\n          <button type=\"button\" @click=\"removeAllCartItem\" :class=\" {'disabled' :cartData.carts.length === 0 }\"\n            class=\"btn btn-outline-primary\">清空購物車</button>\n        </div>\n        <!-- 清空購物車 - 按鈕 結束 -->\n        </div>\n        <table class=\"table align-middle\">\n          <thead class=\"\">\n            <!-- <tr>\n              <th class=\"\">商品</th>\n            </tr> -->\n            <tr class=\"col-12\">\n              <th style=\"width: 40px\"></th>\n              <th class=\"text-nowrap text-center d-none d-sm-block\">圖片</th>\n              <th class=\"text-center\" style=\"width:40%; \">品名</th>\n              <th class=\"text-nowrap text-center\" style=\"width:20%;\">數量/單位</th>\n              <th class=\"text-center\" style=\"width:10%;\" nowrap=\"nowrap\">小計</th>\n            </tr>\n          </thead>\n          <tbody>\n            <!-- 購物車 - 架構 綁 V -->\n            <!-- 折扣卷 購物車有資料時才顯示 -->\n            <template v-if=\"cartData.carts\">\n              <tr v-for=\" item in cartData.carts\" :key=\"item.id\">\n                <td>\n                  <!-- 購物車 - x 移除購物車商品按鈕 -->\n                  <button @click=\"removeCartItem( item.id )\" :disabled=\"isLoadingItem === item.id\"\n                  type=\"button\" class=\"btn btn-outline-danger btn-sm px-2 py-1\">\n                    x\n                  </button>\n                </td>\n                <!-- d-none d-sm-block  = 手機板隱藏圖片 -->\n                <td class=\"d-none d-sm-block\">\n                  <!-- 購物車 - 商品圖片 -->\n                  <!-- <img style=\"height: 100px;\" class=\"img-fluid\" :src=\"item.product.imageUrl\" alt=\"\"> -->\n                  <figure style=\"\" class=\"figure d-flex flex-column justify-content-center align-items-center position-relative pt-3\">\n                    <router-link style=\"text-decoration:none;\" :to=\"`/product/${item.product.id}`\">\n                      <img style=\"height:150px\" :src=\"item.product.imageUrl\" alt=\"\" class=\"figure-img img-fluid rounded d-none d-md-block\">\n                      <img style=\"\" :src=\"item.product.imageUrl\" alt=\"\" class=\"figure-img img-fluid rounded d-block d-md-none\">\n                    </router-link>\n                  </figure>\n                </td>\n                <!--  -->\n                <td class=\"text-center\">\n                  <figure style=\"\" class=\"figure d-flex flex-column justify-content-center align-items-center position-relative pt-3 d-block d-sm-none\">\n                    <router-link style=\"text-decoration:none;\" :to=\"`/product/${item.product.id}`\">\n                      <img style=\"height:150px\" :src=\"item.product.imageUrl\" alt=\"\" class=\"figure-img img-fluid rounded d-none d-md-block\">\n                      <img style=\"height:100px\" :src=\"item.product.imageUrl\" alt=\"\" class=\"figure-img img-fluid rounded d-block d-md-none\">\n                    </router-link>\n                  </figure>\n                  {{ item.product.title }}\n                  <!-- <div class=\"text-success\">已套用優惠券</div> -->\n                </td>\n                <td>\n                  <!-- 購物車 - 商品數量 -->\n                  <div class=\"input-group input-group-sm\">\n                    <div class=\"input-group mb-3\">\n                      <!-- <input v-model=\" item.qty \" min=\"1\" type=\"number\" class=\"form-control\"> -->\n                      <select id=\"\" class=\"form-select mt-3\"\n                      v-model=\" item.qty\" @change=\" updataCartItem( item )\" :disabled=\"isLoadingItem === item.id\">\n                        <!-- :selected=\"item.qty === num\" -->\n                        <option :value=\"num\" v-for=\" num in 20\" :key=\"`${num} + ${item.id}`\" > {{ num }} </option>\n                      </select>\n                      <span class=\"input-group-text mt-3\" id=\"basic-addon2\">{{ item.product.unit }}</span>\n                    </div>\n                  </div>\n                </td>\n                <td nowrap=\"nowrap\" class=\"text-end\">\n                  $ {{ item.total }}\n                </td>\n              </tr>\n            </template>\n          </tbody>\n          <!-- 上面綁 V 結束 -->\n          <!-- colspan = 要跨行的列數 -->\n        </table>\n        <div class=\"d-flex flex-column\">\n          <!-- 總計 套用優惠卷前的 -->\n          <div class=\"d-flex justify-content-between\">\n            <p>套用優惠卷:2022BOOK</p>\n            <p v-if=\"couponActive\" class=\"fs-4\"><del>總計: $ {{ cartData.total }}</del></p>\n            <p v-else class=\"fs-4\">總計: $ {{ cartData.total }}</p>\n          </div>\n          <!-- 優惠卷輸入區 -->\n          <div class=\"d-flex  justify-content-center align-items-center\">\n            <div class=\"input-group mb-2\" style=\"width:50%\">\n              <input type=\"text\" class=\"form-control\" placeholder=\"請輸入優惠券號碼\"\n                v-model=\"couponCode\">\n              <button class=\"btn btn-outline-success\" type=\"button\" :disabled=\"couponActive\" @click=\"useCoupon\">\n                <span v-if=\"couponActive\">已套用</span>\n                <span v-else>使用</span>\n              </button>\n            </div>\n            <!-- 總計 套用優惠卷後的 -->\n            <div class=\"d-flex justify-content-end align-items-center\" style=\"width:50%\">\n              <p v-if=\"couponActive\" class=\"fs-2 m-0\">總計: $ {{ cartData.final_total }}</p>\n              <p v-else></p>\n            </div>\n          </div>\n        </div>\n        <!-- 確認訂單 -->\n        <div class=\"d-flex flex-column justify-content-center align-items-center mt-2\">\n          <p v-if=\"!couponActive\"></p>\n          <p v-else>以套用優惠卷</p>\n          <p v-if=\"couponErr\">優惠卷無效，請輸入正確的優惠卷。</p>\n          <p v-else></p>\n        </div>\n          <router-link class=\"d-flex justify-content-center mb-4\" to=\"/createorder\">\n            <button type=\"submit\" class=\"col-12 col-md-8 btn btn-primary \">確認訂單</button>\n          </router-link>\n      </div>\n      <!-- 購物車列表 - 商品列表 結束 -->\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\n\nimport emitter from '@/libs/emitter'\n\nexport default {\n  data() {\n    return {\n      ready: false,\n      cartData: {\n        // length 無效關係 生命週期原因 所以這裡事先寫好結構\n        carts: []\n      },\n      products: [],\n      productsID: '',\n      isLoadingItem: '',\n      couponCode: '2022BOOK',\n      couponActive: false,\n      couponErr: false // true = 有錯誤\n    }\n  },\n  methods: {\n    // 以下購物車相關\n    // 抓購物車資料\n    getCart(){\n      this.$http.get(`${process.env.VUE_APP_url}/api/${process.env.VUE_APP_path}/cart`)\n      .then((res) => {\n        // 判定先前是否已經套用過優惠卷 - 如果 === = true = 還沒套用過優惠卷 ， false = 套用ing\n        if (res.data.data.total === res.data.data.final_total){\n          this.couponActive = false\n        } else {\n          this.couponActive = true\n        }\n        this.cartData = res.data.data\n        this.ready = true\n      })\n      .catch((err) => {\n        alert(err.data.message)\n      })\n    },\n    // 更改購物車商品數量\n    updataCartItem(item){\n      const data = {\n        product_id: item.id,\n        qty: item.qty\n      }\n      this.isLoadingItem = item.id\n      this.$http.put(`${process.env.VUE_APP_url}/api/${process.env.VUE_APP_path}/cart/${item.id}`, { data })\n      .then(() => {\n        this.getCart()\n        this.isLoadingItem = ''\n        // 這是通知 致行 navbar 的\n        emitter.emit('get-cart', () => {\n          this.getCart()\n        })\n      })\n      .catch((err) => {\n        console.dir(err.data.message)\n        alert(err.data.message)\n      })\n    },\n    // 刪除購物車 單體\n    removeCartItem(id){\n      this.isLoadingItem = id\n      this.$http.delete(`${process.env.VUE_APP_url}/api/${process.env.VUE_APP_path}/cart/${id}`)\n      .then((res) => {\n        this.getCart()\n        // 這是通知 致行 navbar 的\n        emitter.emit('get-cart', () => {\n          this.getCart()\n        })\n        this.isLoadingItem = ''\n      })\n      .catch((err) => {\n        alert(err.data.message)\n      })\n    },\n    // 刪除購物車 全部\n    removeAllCartItem(){\n      this.$http.delete(`${process.env.VUE_APP_url}/api/${process.env.VUE_APP_path}/carts`)\n      .then((res) => {\n        this.getCart()\n        // 這是通知 致行 navbar 的\n        emitter.emit('get-cart', () => {\n          this.getCart()\n        })\n      })\n      .catch((err) => {\n        alert(err.data.message)\n      })\n    },\n    useCoupon(){ // 他會抓購物車的價錢\n      const data = {\n              code: this.couponCode\n          }\n      this.$http.post(`${process.env.VUE_APP_url}/api/${process.env.VUE_APP_path}/coupon`, { data })\n          .then(() => {\n              this.couponActive = true\n              this.couponErr = false\n          })\n          .catch((err) => {\n              this.couponErr = true\n              console.log('useCoupon', err.response.data.message)\n              console.dir('useCoupon', err.response.data.message)\n          })\n    },\n    createOrder(){\n      const order = this.form\n      this.$http.post(`${process.env.VUE_APP_url}/api/${process.env.VUE_APP_path}/order`, { data: order })\n      .then((res) => {\n        this.$refs.form.resetForm()\n        this.getCart()\n        this.form.message = ''\n        // 這是通知 致行 navbar 的\n        emitter.emit('get-cart', () => {\n          this.getCart()\n        })\n        this.$router.push(`/pay/${res.data.orderId}`)\n      })\n    }\n  },\n  mounted() {\n    this.getCart()\n  }\n}\n</script>\n\n<style lang=\"sass\">\n  input::-webkit-outer-spin-button\n  input::-webkit-inner-spin-button\n    -webkit-appearance: none\n    margin: 0\n</style>\n","import { render } from \"./CartView.vue?vue&type=template&id=2d761298\"\nimport script from \"./CartView.vue?vue&type=script&lang=js\"\nexport * from \"./CartView.vue?vue&type=script&lang=js\"\n\nimport \"./CartView.vue?vue&type=style&index=0&id=2d761298&lang=sass\"\n\nimport exportComponent from \"C:\\\\Users\\\\admin\\\\Desktop\\\\Coding\\\\Learn-Code\\\\mingbookshop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","type","_hoisted_9","nowrap","id","_createElementBlock","$data","carts","length","_hoisted_6","_createVNode","_component_router_link","to","_hoisted_7","_hoisted_13","_hoisted_17","onClick","$options","_hoisted_20","_Fragment","key","_renderList","item","disabled","_hoisted_21","product","src","imageUrl","alt","_toDisplayString","title","qty","$event","onChange","num","value","_hoisted_33","unit","total","_hoisted_38","placeholder","_hoisted_44","_hoisted_45","final_total","_hoisted_48","_hoisted_51","_hoisted_50","_hoisted_52","_hoisted_53","_hoisted_54","data","ready","cartData","products","productsID","isLoadingItem","couponCode","couponActive","couponErr","methods","getCart","this","$http","get","then","res","catch","err","alert","message","updataCartItem","product_id","put","emitter","console","dir","removeCartItem","delete","removeAllCartItem","useCoupon","code","post","log","response","createOrder","order","form","$refs","resetForm","$router","push","orderId","mounted","__exports__","render"],"sourceRoot":""}