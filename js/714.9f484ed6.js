"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[714],{3246:function(t,e,a){a.d(e,{Z:function(){return f}});var i=a(6252),o=a(3577),s=a(9963);const n={"aria-label":"Page navigation example"},r={class:"pagination justify-content-center"},l=(0,i._)("span",{"aria-hidden":"true"},"«",-1),c=[l],d=["onClick"],p=(0,i._)("span",{"aria-hidden":"true"},"»",-1),u=[p];function g(t,e,a,l,p,g){return(0,i.wg)(),(0,i.iD)("nav",n,[(0,i._)("ul",r,[(0,i._)("li",{class:(0,o.C_)(["page-item",{disabled:!a.pages.has_pre}])},[(0,i._)("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=(0,s.iM)((e=>t.$emit("get-data",p.inside_pages.current_page-1)),["prevent"]))},c)],2),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.pages.total_pages,(e=>((0,i.wg)(),(0,i.iD)("li",{class:(0,o.C_)(["page-item",{active:e===a.pages.current_page}]),key:e+"page"},[(0,i._)("a",{class:"page-link",href:"",onClick:(0,s.iM)((a=>t.$emit("get-data",e)),["prevent"])},(0,o.zw)(e),9,d)],2)))),128)),(0,i._)("li",{class:(0,o.C_)(["page-item",{disabled:!a.pages.has_next}])},[(0,i._)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=(0,s.iM)((e=>t.$emit("get-data",p.inside_pages.current_page+1)),["prevent"]))},u)],2)])])}var h={data(){return{inside_pages:{}}},props:["pages"],updated(){this.inside_pages=this.pages}},v=a(3744);const m=(0,v.Z)(h,[["render",g]]);var f=m},9714:function(t,e,a){a.r(e),a.d(e,{default:function(){return H}});var i=a(6252),o=a(3577),s=a(9963);const n={class:"navbar navbar-expand-lg navbar-light justify-content-center border border-start-0 border-end-0 border-top border-bottom"},r={class:"navbar-nav flex-row overflow-auto navbar-custom-scroll"},l=(0,i.Uk)("全部商品"),c=(0,i.Uk)("關注清單"),d={class:"container mt-md-5 mt-3 mb-7",style:{"min-height":"100vh"}},p={class:"row"},u={key:0,class:"d-flex justify-content-center my-5"},g={class:"col-md-6 card text-center",style:{}},h={class:"card-body"},v=(0,i._)("strong",null,[(0,i._)("p",{class:"m-0 text-primary",style:{"font-size":"2rem"}},"目前沒有關注的商品哦")],-1),m=(0,i._)("button",{type:"button",class:"col-4 btn btn-outline-primary mt-2"},"前去逛逛",-1),f={class:"card border-0 mb-4 position-relative rounded"},_={style:{},class:"figure d-flex flex-column justify-content-center align-items-center position-relative pt-3"},b=["onClick"],w=["onClick"],x=["src"],y={class:"card-body d-flex flex-column justify-content-center align-items-center pt-0"},k={class:"mb-0"},C={class:"fs-5 mb-1",style:{color:"black",height:"1.5rem",overflow:"hidden"},onmouseover:"this.style.color='#B08968';",onmouseout:"this.style.color='';"},D={class:"card-text text-muted mb-0",style:{height:"4.5rem",overflow:"hidden"}},$={class:"d-flex justify-content-between align-items-center col-12"},z={class:""},j={style:{"white-space":"nowrap","text-align":"center"},class:"mb-0 text-muted text-end mt-2"},N={style:{"white-space":"nowrap","text-align":"center"},class:"h4 fw-bold text-end mt-1 fs-5"},W=["onClick"];function Z(t,e,a,Z,I,M){const S=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("nav",n,[(0,i._)("div",r,[(0,i.Wm)(S,{class:"nav-item nav-link text-nowrap px-2",to:"/products"},{default:(0,i.w5)((()=>[l])),_:1}),(0,i.Wm)(S,{class:"nav-item nav-link text-nowrap px-2",to:"/favorites"},{default:(0,i.w5)((()=>[c])),_:1})])]),(0,i._)("div",d,[(0,i._)("div",p,[0===I.favorite.length?((0,i.wg)(),(0,i.iD)("div",u,[(0,i._)("div",g,[(0,i._)("div",h,[v,(0,i.Wm)(S,{to:"/products"},{default:(0,i.w5)((()=>[m])),_:1})])])])):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(I.products,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-md-6 col-lg-4 col-xl-3",key:t.id,style:{height:"auto"}},[(0,i._)("div",f,[(0,i._)("figure",_,[I.favorite.includes(t.product.id)?((0,i.wg)(),(0,i.iD)("i",{key:0,onClick:e=>M.toggleFavorite(t.product.id),class:"bi bi-heart-fill position-absolute btn btn-lg",style:{right:"3px",top:"3px",color:"red"}},null,8,b)):((0,i.wg)(),(0,i.iD)("i",{key:1,onClick:e=>M.toggleFavorite(t.product.id),class:"bi bi-suit-heart position-absolute btn btn-lg",style:{right:"3px",top:"3px",color:"red"}},null,8,w)),(0,i.Wm)(S,{style:{"text-decoration":"none"},to:`/product/${t.product.id}`},{default:(0,i.w5)((()=>[(0,i._)("img",{style:{height:"200px"},src:t.product.imageUrl,alt:"",class:"figure-img img-fluid rounded"},null,8,x)])),_:2},1032,["to"])]),(0,i._)("div",y,[(0,i._)("h4",k,[(0,i.Wm)(S,{class:"card-text text-muted",to:`/product/${t.product.id}`,style:{"text-decoration":"none"}},{default:(0,i.w5)((()=>[(0,i._)("p",C,(0,o.zw)(t.product.title),1)])),_:2},1032,["to"])]),(0,i._)("p",D,(0,o.zw)(t.product.description),1),(0,i._)("div",$,[(0,i._)("div",z,[(0,i._)("p",j,[(0,i._)("del",null,"NT$ "+(0,o.zw)(t.product.origin_price)+" / "+(0,o.zw)(t.product.unit),1)]),(0,i._)("p",N,"NT$ "+(0,o.zw)(t.product.price)+" / "+(0,o.zw)(t.product.unit),1)]),(0,i._)("div",null,[(0,i._)("button",{onClick:(0,s.iM)((e=>M.addToCart(t.product)),["prevent"]),style:{"white-space":"nowrap"},type:"button",class:"btn btn-secondary text-end"},"加入購物車",8,W)])])])])])))),128))])])],64)}var I=a(4902),M=a(3246),S={data(){return{category:"all",products:[],productsAll:[],pagination:"",favorite:JSON.parse(localStorage.getItem("favorite"))||[]}},components:{PaginationView:M.Z},methods:{getData(t=1,e){const a="https://vue3-course-api.hexschool.io/v2/api/ming123/product";this.favorite.forEach((t=>{this.$http.get(`${a}/${t}`).then((t=>{this.products.push(t.data)}))}))},addToCart(t,e=1){const a={product_id:t.id,qty:e};this.$http.post("https://vue3-course-api.hexschool.io/v2/api/ming123/cart",{data:a}).then((()=>{I.Z.emit("get-cart")})).catch((t=>{console.dir(t.data.message)}))},toggleFavorite(t){const e=this.favorite.findIndex((e=>e===t));if(-1===e)this.favorite.push(t);else{this.favorite.splice(e,1);const a=this.products.findIndex((e=>e.product.id===t));this.products.splice(a,1)}}},watch:{favorite:{handler(){localStorage.setItem("favorite",JSON.stringify(this.favorite))},deep:!0}},mounted(){this.getData()}},T=a(3744);const F=(0,T.Z)(S,[["render",Z]]);var H=F}}]);
//# sourceMappingURL=714.9f484ed6.js.map