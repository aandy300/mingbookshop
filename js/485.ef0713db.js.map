{"version":3,"file":"js/485.ef0713db.js","mappings":"4LACkBA,MAAM,a,GACjBA,MAAM,wD,GAEJA,MAAM,oE,wuBAeiBC,MAAA,sBAA0BD,MAAM,2E,GACxDE,EAAAA,EAAAA,GAIM,OAJDF,MAAM,4EAA0E,EACnFE,EAAAA,EAAAA,GAA+D,KAA5DF,MAAM,2BAA2BC,MAAA,wBACpCC,EAAAA,EAAAA,GAA8C,KAA3CF,MAAM,6BAA4B,UACrCE,EAAAA,EAAAA,GAA4C,KAAzCF,MAAM,8BAA6B,QAHxC,G,GAAAG,G,SAMUF,MAAA,sBAA0BD,MAAM,2E,GAC1CE,EAAAA,EAAAA,GAIM,OAJDF,MAAM,4EAA0E,EACnFE,EAAAA,EAAAA,GAAoE,KAAjEF,MAAM,gCAAgCC,MAAA,wBACzCC,EAAAA,EAAAA,GAA8C,KAA3CF,MAAM,6BAA4B,UACrCE,EAAAA,EAAAA,GAA4C,KAAzCF,MAAM,8BAA6B,QAHxC,G,GAAAI,G,SAOwBH,MAAA,sBAA0BD,MAAM,kH,GACtDE,EAAAA,EAAAA,GAA+D,KAA5DF,MAAM,2BAA2BC,MAAA,sBAApC,S,GACAC,EAAAA,EAAAA,GAA8C,KAA3CF,MAAM,6BAA4B,SAAK,G,GAC1CE,EAAAA,EAAAA,GAA4C,KAAzCF,MAAM,8BAA6B,MAAE,G,GAFxCK,EACAC,EACAC,G,SAEQN,MAAA,sBAA0BD,MAAM,kH,GACxCE,EAAAA,EAAAA,GAAoE,KAAjEF,MAAM,gCAAgCC,MAAA,sBAAzC,S,GACAC,EAAAA,EAAAA,GAA8C,KAA3CF,MAAM,6BAA4B,SAAK,G,GAC1CE,EAAAA,EAAAA,GAA4C,KAAzCF,MAAM,8BAA6B,MAAE,G,GAFxCQ,EACAC,EACAC,G,GAIDV,MAAM,iC,GACJA,MAAM,uCAAuCC,MAAA,I,GAE3CD,MAAM,a,aACoBE,EAAAA,EAAAA,GAA4D,KAAzDF,MAAM,MAAMC,MAAA,oCAAsC,OAAG,G,GAAxDU,G,aACdT,EAAAA,EAAAA,GAA2D,KAAxDF,MAAM,MAAMC,MAAA,kCAAoC,QAAI,G,GAAvDW,G,GAMhBZ,MAAM,kB,GACJA,MAAM,8C,GAEJA,MAAM,Y,GACTE,EAAAA,EAAAA,GAAa,UAAT,QAAI,G,GACDF,MAAM,S,GAEXE,EAAAA,EAAAA,GAMQ,eALNA,EAAAA,EAAAA,GAIK,YAHHA,EAAAA,EAAAA,GAAoC,MAAhCD,MAAA,uBAAyB,OAC7BC,EAAAA,EAAAA,GAAoC,MAAhCW,OAAO,SAASZ,MAAA,IAAS,OAC7BC,EAAAA,EAAAA,GAAoC,MAAhCW,OAAO,SAASZ,MAAA,IAAS,UAJjC,G,GAUUD,MAAM,U,GAaLA,MAAM,qB,GACJA,MAAM,8B,GACJA,MAAM,6D,GACTE,EAAAA,EAAAA,GAAsH,OAAjHF,MAAM,6CAA6CC,MAAA,kDAAmD,SAAK,G,GAC3GD,MAAM,WAAWC,MAAA,oC,GASjCD,MAAM,Y,GACTE,EAAAA,EAAAA,GAAa,UAAT,QAAI,G,GACSF,MAAM,S,GAIPE,EAAAA,EAAAA,GAAkC,MAA9BD,MAAA,iBAAqB,QAAI,G,GAI7BC,EAAAA,EAAAA,GAAkC,MAA9BD,MAAA,iBAAqB,QAAI,G,GAI7BC,EAAAA,EAAAA,GAAa,UAAT,QAAI,G,SAEuBF,MAAM,gB,SACtBA,MAAM,c,IAIrBE,EAAAA,EAAAA,GAAmC,MAA/BD,MAAA,iBAAqB,SAAK,G,IAI9BC,EAAAA,EAAAA,GAAmC,MAA/BD,MAAA,iBAAqB,SAAK,G,IAI9BC,EAAAA,EAAAA,GAAmC,MAA/BD,MAAA,iBAAqB,SAAK,G,IAI9BC,EAAAA,EAAAA,GAAmC,MAA/BD,MAAA,iBAAqB,SAAK,G,IAI9BC,EAAAA,EAAAA,GAAgC,MAA5BD,MAAA,iBAAqB,MAAE,G,IAI3BC,EAAAA,EAAAA,GAAmC,MAA/BD,MAAA,iBAAqB,SAAK,G,IAC1BA,MAAA,uD,IAKLD,MAAM,I,gDAlJpBc,EAAAA,QAAAA,EAAAA,EAAAA,OAAXC,EAAAA,EAAAA,IA0JM,MA1JN,EA0JM,EAzJJb,EAAAA,EAAAA,GAwJM,MAxJN,EAwJM,EAtJJA,EAAAA,EAAAA,GAwCM,MAxCN,EAwCM,CAvCJc,EAcWF,EAAAA,MAAMG,UAAAA,EAAAA,EAAAA,OAAjBF,EAAAA,EAAAA,IAMM,MANN,EAMMG,MANN,WAOAH,EAAAA,EAAAA,IAMM,MANN,EAMMI,IAEKL,EAAAA,MAAMG,UAAAA,EAAAA,EAAAA,OAAjBF,EAAAA,EAAAA,IAIM,MAJN,EAIMK,MAJN,WAKAL,EAAAA,EAAAA,IAIM,MAJN,EAIMM,OAGRnB,EAAAA,EAAAA,GASM,MATN,EASM,EARJA,EAAAA,EAAAA,GAOM,MAPN,EAOM,EALJA,EAAAA,EAAAA,GAGM,MAHN,EAGM,CAFUY,EAAAA,MAAMG,UAAAA,EAAAA,EAAAA,OAApBF,EAAAA,EAAAA,IAAkG,SAAAO,EAAAC,MAAlG,WACAR,EAAAA,EAAAA,IAAmF,SAAAS,EAAAC,WAMzFvB,EAAAA,EAAAA,GAgGM,MAhGN,EAgGM,EA/FJA,EAAAA,EAAAA,GA6FM,MA7FN,EA6FM,EA3FJA,EAAAA,EAAAA,GAsCM,MAtCN,EAsCM,CArCJwB,GACAxB,EAAAA,EAAAA,GAmCQ,QAnCR,EAmCQ,CAjCNyB,GAQAzB,EAAAA,EAAAA,GAYQ,6BAXJa,EAAAA,EAAAA,IAUKa,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAVcf,EAAAA,MAAMgB,UAAdC,K,WAAXhB,EAAAA,EAAAA,IAUK,MAV+BiB,IAAKD,EAAKE,IAA9C,EACE/B,EAAAA,EAAAA,GAEK,KAFL,GAEKgC,EAAAA,EAAAA,IADAH,EAAKI,QAAQC,OAAK,IAEvBlC,EAAAA,EAAAA,GAEK,WAAAgC,EAAAA,EAAAA,IADAH,EAAKM,KAAG,IAEbnC,EAAAA,EAAAA,GAEK,WAAAgC,EAAAA,EAAAA,IADAH,EAAKO,OAAK,QARjB,SAaJpC,EAAAA,EAAAA,GASQ,eARFA,EAAAA,EAAAA,GAOM,MAPN,EAOM,EANJA,EAAAA,EAAAA,GAKM,MALN,EAKM,EAJJA,EAAAA,EAAAA,GAGM,MAHN,EAGM,CAFJqC,GACArC,EAAAA,EAAAA,GAAkG,MAAlG,EAAkG,EAAxCA,EAAAA,EAAAA,GAAkC,eAAAgC,EAAAA,EAAAA,IAAvBpB,EAAAA,MAAMwB,OAAK,kBAShGpC,EAAAA,EAAAA,GAkDM,MAlDN,EAkDM,CAjDJsC,GACUtC,EAAAA,EAAAA,GA2CQ,QA3CR,EA2CQ,EA1CNA,EAAAA,EAAAA,GAyCQ,eAvCNA,EAAAA,EAAAA,GAGK,WAFHuC,GACAvC,EAAAA,EAAAA,GAAkH,WAAAgC,EAAAA,EAAAA,IAAAA,IAAvGQ,KAAoB,IAAf5B,EAAAA,MAAM6B,WAAkBC,cAAcC,MAAK,KAAMC,WAAWC,MAAK,MAAQC,QAAO,gBAElG9C,EAAAA,EAAAA,GAGK,WAFH+C,GACA/C,EAAAA,EAAAA,GAAuB,WAAAgC,EAAAA,EAAAA,IAAhBpB,EAAAA,MAAMmB,IAAE,MAEjB/B,EAAAA,EAAAA,GAMK,WALHgD,GACAhD,EAAAA,EAAAA,GAGK,WAFWY,EAAAA,MAAMG,UAAAA,EAAAA,EAAAA,OAApBF,EAAAA,EAAAA,IAA8D,SAA9D,EAAkD,UAAlD,WACAA,EAAAA,EAAAA,IAA2C,OAA3C,EAAgC,cAGpCb,EAAAA,EAAAA,GAGK,WAFHiD,IACAjD,EAAAA,EAAAA,GAA8B,WAAAgC,EAAAA,EAAAA,IAAvBpB,EAAAA,MAAMsC,KAAKC,MAAI,MAExBnD,EAAAA,EAAAA,GAGK,WAFHoD,IACApD,EAAAA,EAAAA,GAA+B,WAAAgC,EAAAA,EAAAA,IAAxBpB,EAAAA,MAAMsC,KAAKG,OAAK,MAEzBrD,EAAAA,EAAAA,GAGK,WAFHsD,IACAtD,EAAAA,EAAAA,GAA6B,WAAAgC,EAAAA,EAAAA,IAAtBpB,EAAAA,MAAMsC,KAAKK,KAAG,MAEvBvD,EAAAA,EAAAA,GAGK,WAFHwD,IACAxD,EAAAA,EAAAA,GAAiC,WAAAgC,EAAAA,EAAAA,IAA1BpB,EAAAA,MAAMsC,KAAKO,SAAO,MAE3BzD,EAAAA,EAAAA,GAGK,WAFH0D,IACA1D,EAAAA,EAAAA,GAA4B,WAAAgC,EAAAA,EAAAA,IAArBpB,EAAAA,MAAM+C,SAAO,MAEtB3D,EAAAA,EAAAA,GAGK,WAFH4D,IACA5D,EAAAA,EAAAA,GAAgG,KAAhG,GAAgG,EAAvCA,EAAAA,EAAAA,GAAkC,eAAAgC,EAAAA,EAAAA,IAAvBpB,EAAAA,MAAMwB,OAAK,YAKrFpC,EAAAA,EAAAA,GAEM,MAFN,GAEM,EADJA,EAAAA,EAAAA,GAAgH,UAAxG6D,KAAK,SAAS/D,MAAM,yBAA0BgE,SAAUlD,EAAAA,MAAMG,QAAUgD,QAAK,eAAEC,EAAAA,aAAY,OAAI,EAAAC,kBAnJ7H,eA8JA,QACEC,OACE,MAAO,CACLC,OAAO,EACPC,MAAO,CACL3B,UAAW,GACX1B,QAAS,GACT4C,QAAS,GACTvB,MAAO,EACPc,KAAM,MAIZmB,WAAY,GAEZC,QAAS,CACPC,YACE,MAAMxC,EAAKyC,KAAKC,OAAOC,OAAO3C,GAE9ByC,KAAKG,MAAO,6DAAmE5C,KAC9E6C,MAAKC,IACJC,QAAQC,IAAIF,GACVL,KAAKJ,MAAQS,EAAIX,KAAKE,MACtBI,KAAKL,OAAQ,MAGnBa,WACE,MAAMjD,EAAKyC,KAAKC,OAAOC,OAAO3C,GAC9ByC,KAAKG,MAAMM,KAAM,2DAAiElD,KACjF6C,MAAK,KACJJ,KAAKD,YACLC,KAAKU,iBAENC,OAAMC,IACHN,QAAQO,IAAID,OAGlBF,cACEI,OAAOC,SAAS,EAAG,KAGvBC,UACEhB,KAAKD,c,WCpMT,MAAMkB,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAASC,MAEpE","sources":["webpack://shop/./src/views/Front/PayView.vue","webpack://shop/./src/views/Front/PayView.vue?216f"],"sourcesContent":["<template>\n<div v-if=\"ready\" class=\"container\">\n  <div class=\"row d-flex justify-content-center align-items-center\">\n    <!-- 付款狀態 new -->\n    <div class=\"row d-flex flex-nowrap justify-content-center align-items-center\">\n      <div style=\"max-width: 18rem;\" class=\"col-3 d-none d-sm-block card- text-balck bg-info my-5 mx-4 rounded\">\n        <div class=\"d-flex flex-column flex-nowrap justify-content-center align-items-center\">\n        <i class=\"bi bi-check2-circle mt-2\" style=\"font-size:40px\"></i>\n          <p class=\"card-text text-center m-0\">Step1</p>\n          <p class=\"card-text text-center mb-2\">確認訂單</p>\n        </div>\n      </div>\n      <div style=\"max-width: 18rem;\" class=\"col-3 d-none d-sm-block card- text-balck bg-info my-5 mx-4 rounded\">\n        <div class=\"d-flex flex-column flex-nowrap justify-content-center align-items-center\">\n          <i class=\"bi bi-check2-circle mt-2\" style=\"font-size:40px\"></i>\n          <p class=\"card-text text-center m-0\">Step2</p>\n          <p class=\"card-text text-center mb-2\">建立訂單</p>\n        </div>\n      </div>\n      <div v-if=\"order.is_paid\" style=\"max-width: 18rem;\" class=\"col-3 d-none d-sm-block card- text-white bg-secondary my-5 mx-4 rounded\">\n        <div class=\"d-flex flex-column flex-nowrap justify-content-center align-items-center\">\n          <i class=\"bi bi-check2-circle mt-2\" style=\"font-size:40px\"></i>\n          <p class=\"card-text text-center m-0\">Step3</p>\n          <p class=\"card-text text-center mb-2\">付款</p>\n        </div>\n      </div>\n      <div v-else style=\"max-width: 18rem;\" class=\"col-3 d-none d-sm-block card- text-white bg-secondary my-5 mx-4 rounded\">\n        <div class=\"d-flex flex-column flex-nowrap justify-content-center align-items-center\">\n          <i class=\"bi bi-dash-circle-dotted mt-2\" style=\"font-size:40px\"></i>\n          <p class=\"card-text text-center m-0\">Step3</p>\n          <p class=\"card-text text-center mb-2\">付款</p>\n        </div>\n      </div>\n      <!-- for rwd 顯示 單個 購買狀態 -->\n      <div v-if=\"order.is_paid\" style=\"max-width: 18rem;\" class=\"col-10 d-flex flex-column align-items-center d-block d-sm-none card- text-white bg-secondary my-5 mx-4 rounded\">\n          <i class=\"bi bi-check2-circle mt-2\" style=\"font-size:40px\"></i>\n          <p class=\"card-text text-center m-0\">Step3</p>\n          <p class=\"card-text text-center mb-2\">付款</p>\n      </div>\n      <div v-else style=\"max-width: 18rem;\" class=\"col-10 d-flex flex-column align-items-center d-block d-sm-none card- text-white bg-secondary my-5 mx-4 rounded\">\n          <i class=\"bi bi-dash-circle-dotted mt-2\" style=\"font-size:40px\"></i>\n          <p class=\"card-text text-center m-0\">Step3</p>\n          <p class=\"card-text text-center mb-2\">付款</p>\n      </div>\n    </div>\n    <!-- card 付款狀態 -->\n    <div class=\"d-flex justify-content-center\">\n      <div class=\"col-6 border border-dark text-center\" style=\"\">\n\n        <div class=\"card-body\">\n          <strong v-if=\"order.is_paid\"><p class=\"m-0\" style=\"font-size: 2rem; color:green;\">已付款</p></strong>\n          <strong v-else><p class=\"m-0\" style=\"font-size: 2rem; color:red;\">尚未付款</p></strong>\n        </div>\n\n      </div>\n    </div>\n    <!-- 表單資訊 -->\n    <div class=\"container mt-5\">\n      <div class=\"row row-cols-1 row-cols-md-2 row-cols-lg-2\">\n        <!-- 商品資訊 -->\n        <div class=\"col mb-9\">\n          <h4>訂單資訊</h4>\n          <table class=\"table\"><!--  table-striped -->\n            <!-- tag -->\n            <thead>\n              <tr>\n                <th style=\"max-width:350px;\">品名</th>\n                <th nowrap=\"nowrap\" style=\"\">數量</th>\n                <th nowrap=\"nowrap\" style=\"\">小計</th>\n              </tr>\n            </thead>\n            <!-- 內容 -->\n            <tbody>\n                <tr v-for=\"item in order.products\" :key=\"item.id\">\n                  <td class=\"d-flex\">\n                    {{ item.product.title }}\n                  </td>\n                  <td>\n                    {{ item.qty }}\n                  </td>\n                  <td>\n                    {{ item.total }}\n                  </td>\n                </tr>\n            </tbody>\n            <!-- 總金額 -->\n            <tfoot>\n                  <div class=\"position-relative\">\n                    <div class=\"position-absolute start-50\">\n                      <div class=\"d-flex justify-content-end align-items-center flex-nowrap\">\n                        <div class=\"d-flex flex-nowrap fs-2 fw-bolder text-end\" style=\"white-space: nowarp; word-break: keep-all;\">總金額: </div>\n                        <div class=\"text-end\" style=\"color:red; font-size:1.5rem\"><strong>{{ order.total }}</strong></div>\n                      </div>\n                    </div>\n                  </div>\n            </tfoot>\n\n          </table>\n        </div>\n        <!-- 訂單細節 -->\n        <div class=\"col mb-5\">\n          <h4>訂單細節</h4>\n                    <table class=\"table\">\n                      <tbody>\n                        <!--  -->\n                        <tr>\n                          <th style=\"width: 100px\">下訂時間</th>\n                          <td>{{ new Date(order.create_at * 1000).toISOString().split('T').toString().slice(0, -5).replace(',', '-') }}</td>\n                        </tr>\n                        <tr>\n                          <th style=\"width: 100px\">訂單編號</th>\n                          <td>{{ order.id }}</td>\n                        </tr>\n                        <tr>\n                          <th>付款狀態</th>\n                          <td>\n                            <strong v-if=\"order.is_paid\" class=\"text-success\">已付款</strong>\n                            <span v-else class=\"text-muted\">尚未付款</span>\n                          </td>\n                        </tr>\n                        <tr>\n                          <th style=\"width: 100px\">收件人名稱</th>\n                          <td>{{ order.user.name }}</td>\n                        </tr>\n                        <tr>\n                          <th style=\"width: 100px\">收件人信箱</th>\n                          <td>{{ order.user.email }}</td>\n                        </tr>\n                        <tr>\n                          <th style=\"width: 100px\">收件人電話</th>\n                          <td>{{ order.user.tel }}</td>\n                        </tr>\n                        <tr>\n                          <th style=\"width: 100px\">收件人地址</th>\n                          <td>{{ order.user.address }}</td>\n                        </tr>\n                        <tr>\n                          <th style=\"width: 100px\">留言</th>\n                          <td>{{ order.message }}</td>\n                        </tr>\n                        <tr>\n                          <th style=\"width: 100px\">訂單總金額</th>\n                          <td style=\"color:red; text-align: end; font-size:1.5rem\"><strong>{{ order.total }}</strong></td>\n                        </tr>\n                      </tbody>\n                    </table>\n                    <!-- 確認付款 -->\n                    <div class=\"\">\n                      <button type=\"button\" class=\"btn btn-primary col-12\" :disabled=\"order.is_paid\" @click=\"payOrder()\">確認付款</button>\n                    </div>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      ready: false,\n      order: {\n        create_at: '',\n        is_paid: '',\n        message: '',\n        total: 0,\n        user: {}\n      }\n    }\n  },\n  components: {\n  },\n  methods: {\n    getOrders(){\n      const id = this.$route.params.id\n      // const { id } = this.$route.params  // 解構的寫法\n      this.$http(`${process.env.VUE_APP_url}/api/${process.env.VUE_APP_path}/order/${id}`)\n      .then(res => {\n        console.log(res)\n          this.order = res.data.order\n          this.ready = true\n      })\n    },\n    payOrder(){\n      const id = this.$route.params.id\n      this.$http.post(`${process.env.VUE_APP_url}/api/${process.env.VUE_APP_path}/pay/${id}`)\n      .then(() => {\n        this.getOrders()\n        this.scrollToTop()\n      })\n      .catch(err => {\n          console.dir(err)\n      })\n    },\n    scrollToTop(){\n      window.scrollTo(0, 0)\n    }\n  },\n  mounted() {\n    this.getOrders()\n  }\n}\n</script>\n","import { render } from \"./PayView.vue?vue&type=template&id=51d8c93c\"\nimport script from \"./PayView.vue?vue&type=script&lang=js\"\nexport * from \"./PayView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\admin\\\\Desktop\\\\Coding\\\\Learn-Code\\\\mingbookshop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","_hoisted_7","_hoisted_10","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_26","_hoisted_29","nowrap","$data","_createElementBlock","_hoisted_4","is_paid","_hoisted_8","_hoisted_11","_hoisted_16","_hoisted_21","_hoisted_25","_hoisted_27","_hoisted_28","_hoisted_30","_hoisted_34","_hoisted_36","_Fragment","_renderList","products","item","key","id","_toDisplayString","product","title","qty","total","_hoisted_41","_hoisted_44","_hoisted_46","Date","create_at","toISOString","split","toString","slice","replace","_hoisted_47","_hoisted_48","_hoisted_51","user","name","_hoisted_52","email","_hoisted_53","tel","_hoisted_54","address","_hoisted_55","message","_hoisted_56","type","disabled","onClick","$options","_hoisted_59","data","ready","order","components","methods","getOrders","this","$route","params","$http","then","res","console","log","payOrder","post","scrollToTop","catch","err","dir","window","scrollTo","mounted","__exports__","render"],"sourceRoot":""}