{"version":3,"file":"js/714.9f484ed6.js","mappings":"kLAES,aAAW,2B,GAERA,MAAM,qC,GAKNC,EAAAA,EAAAA,GAAuC,QAAjC,cAAY,QAAO,KAAO,G,GAAhCC,G,iBASAD,EAAAA,EAAAA,GAAuC,QAAjC,cAAY,QAAO,KAAO,G,GAAhCE,G,0CAhBRC,EAAAA,EAAAA,IAoBI,MApBJ,EAoBI,EAlBAH,EAAAA,EAAAA,GAiBC,KAjBD,EAiBC,EAdDA,EAAAA,EAAAA,GAIK,MAJDD,OAAK,SAAC,YAAW,CAAAK,UAAuBC,EAAAA,MAAMC,YAAlD,EACIN,EAAAA,EAAAA,GAEI,KAFDD,MAAM,YAAYQ,KAAK,IAAI,aAAW,WAAYC,QAAK,yBAAWC,EAAAA,MAAK,WAAaC,EAAAA,aAAaC,aAAY,mBAAhH,IADJ,KAcC,aATDR,EAAAA,EAAAA,IAGKS,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAHiCR,EAAAA,MAAMS,aAAdC,K,WAA9BZ,EAAAA,EAAAA,IAGK,MAHDJ,OAAK,SAAC,YAAW,CAAAiB,OAA6ED,IAASV,EAAAA,MAAMM,gBAAtDM,IAAMF,EAAO,QAAxE,EAEIf,EAAAA,EAAAA,GAAwF,KAArFD,MAAM,YAAYQ,KAAK,GAAIC,SAAK,YAAWC,EAAAA,MAAK,WAAaM,IAAI,eAApE,QAA4EA,GAAI,EAAAG,IAFpF,aAIAlB,EAAAA,EAAAA,GAIK,MAJDD,OAAK,SAAC,YAAW,CAAAK,UAAuBC,EAAAA,MAAMc,aAAlD,EACInB,EAAAA,EAAAA,GAEI,KAFDD,MAAM,YAAYQ,KAAK,IAAI,aAAW,OAAQC,QAAK,yBAAWC,EAAAA,MAAK,WAAaC,EAAAA,aAAaC,aAAY,mBAA5G,IADJ,OAUR,OACIS,OACE,MAAO,CACLC,aAAc,KAGlBC,MAAO,CAAC,SACRC,UACEC,KAAKH,aAAeG,KAAKC,Q,UC7B/B,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,S,6GCLS5B,MAAM,2H,GACJA,MAAM,0D,WAC8D,Q,WACC,Q,GAGvEA,MAAM,8BAA8B6B,MAAA,wB,GAClC7B,MAAM,O,SAE0BA,MAAM,sC,GAClCA,MAAM,4BAA4B6B,MAAA,I,GAChC7B,MAAM,a,GACTC,EAAAA,EAAAA,GAAqF,gBAA5EA,EAAAA,EAAAA,GAAmE,KAAhED,MAAM,mBAAmB6B,MAAA,sBAAyB,gBAA9D,G,GAEA5B,EAAAA,EAAAA,GAA8E,UAAtE6B,KAAK,SAAS9B,MAAM,sCAAqC,QAAI,G,GAOlEA,MAAM,gD,GAED6B,MAAA,GAAS7B,MAAM,8F,yCAQlBA,MAAM,+E,GACLA,MAAM,Q,GAKHA,MAAM,YAAY6B,MAAA,kDAAsDE,YAAY,8BAA8BC,WAAW,wB,GAGjIhC,MAAM,4BAA4B6B,MAAA,qC,GAChC7B,MAAM,4D,GACJA,MAAM,I,GACN6B,MAAA,+CAAgD7B,MAAM,iC,GACtD6B,MAAA,+CAAgD7B,MAAM,iC,4GA5CzEC,EAAAA,EAAAA,GAKM,MALN,EAKM,EAJJA,EAAAA,EAAAA,GAGM,MAHN,EAGM,EAFJgC,EAAAA,EAAAA,IAAyFC,EAAA,CAA5ElC,MAAM,qCAAqCmC,GAAG,aAA3D,C,kBAAuE,IAAI,M,OAC3EF,EAAAA,EAAAA,IAA0FC,EAAA,CAA7ElC,MAAM,qCAAqCmC,GAAG,cAA3D,C,kBAAwE,IAAI,M,WAGhFlC,EAAAA,EAAAA,GAiDM,MAjDN,EAiDM,EAhDJA,EAAAA,EAAAA,GA+CM,MA/CN,EA+CM,CA7CsB,IAAfU,EAAAA,SAASyB,SAAM,WAA1BhC,EAAAA,EAAAA,IASM,MATN,EASM,EARJH,EAAAA,EAAAA,GAOM,MAPN,EAOM,EANJA,EAAAA,EAAAA,GAKM,MALN,EAKM,CAJJoC,GACAJ,EAAAA,EAAAA,IAEcC,EAAA,CAFDC,GAAG,aAAW,C,kBAC3B,IAA8E,CAA9EG,K,cALN,iBA6CI,aAlCJlC,EAAAA,EAAAA,IAgCMS,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAhCiDH,EAAAA,UAAR4B,K,WAA/CnC,EAAAA,EAAAA,IAgCM,OAhCDJ,MAAM,6BAAuDkB,IAAKqB,EAAKC,GAAIX,MAAA,iBAAhF,EACI5B,EAAAA,EAAAA,GA8BM,MA9BN,EA8BM,EA5BJA,EAAAA,EAAAA,GAMS,SANT,EAMS,CALEU,EAAAA,SAAS8B,SAASF,EAAKG,QAAQF,MAA/B,WAATpC,EAAAA,EAAAA,IAAyL,K,MAA3IK,QAAK,GAAEkC,EAAAA,eAAeJ,EAAKG,QAAQF,IAAKxC,MAAM,gDAAgD6B,MAAA,qCAA5I,wBACAzB,EAAAA,EAAAA,IAAsJ,K,MAA3IK,QAAK,GAAEkC,EAAAA,eAAeJ,EAAKG,QAAQF,IAAKxC,MAAM,gDAAgD6B,MAAA,qCAAzG,YACAI,EAAAA,EAAAA,IAEcC,EAAA,CAFDL,MAAA,2BAA+BM,GAAE,YAAcI,EAAKG,QAAQF,MAAzE,C,kBACE,IAAmG,EAAnGvC,EAAAA,EAAAA,GAAmG,OAA9F4B,MAAA,iBAAsBe,IAAKL,EAAKG,QAAQG,SAAUC,IAAI,GAAG9C,MAAM,gCAApE,a,KADF,gBAKFC,EAAAA,EAAAA,GAmBM,MAnBN,EAmBM,EAlBJA,EAAAA,EAAAA,GAOK,KAPL,EAOK,EALHgC,EAAAA,EAAAA,IAIcC,EAAA,CAJDlC,MAAM,uBAAwBmC,GAAE,YAAcI,EAAKG,QAAQF,KAAMX,MAAA,4BAA9E,C,kBAGE,IAAiL,EAAjL5B,EAAAA,EAAAA,GAAiL,IAAjL,GAAiL8C,EAAAA,EAAAA,IAAxBR,EAAKG,QAAQM,OAAK,M,KAH7K,gBAMF/C,EAAAA,EAAAA,GAA8G,IAA9G,GAA8G8C,EAAAA,EAAAA,IAA9BR,EAAKG,QAAQO,aAAW,IACxGhD,EAAAA,EAAAA,GAQM,MARN,EAQM,EAPJA,EAAAA,EAAAA,GAGM,MAHN,EAGM,EAFJA,EAAAA,EAAAA,GAAqK,IAArK,EAAqK,EAA5EA,EAAAA,EAAAA,GAAwE,WAAnE,QAAI8C,EAAAA,EAAAA,IAAGR,EAAKG,QAAQQ,cAAe,OAAGH,EAAAA,EAAAA,IAAGR,EAAKG,QAAQS,MAAI,MACxJlD,EAAAA,EAAAA,GAAmJ,IAAnJ,EAAyF,QAAI8C,EAAAA,EAAAA,IAAGR,EAAKG,QAAQU,OAAQ,OAAGL,EAAAA,EAAAA,IAAGR,EAAKG,QAAQS,MAAI,MAE9IlD,EAAAA,EAAAA,GAEM,aADJA,EAAAA,EAAAA,GAA6I,UAApIQ,SAAK,YAAUkC,EAAAA,UAAUJ,EAAKG,UAAO,aAAGb,MAAA,yBAA4BC,KAAK,SAAS9B,MAAM,8BAA8B,QAAK,EAAAqD,gBA3BhJ,WAdJ,I,wBAyDJ,GACEhC,OACE,MAAO,CACLiC,SAAU,MACVC,SAAU,GACVC,YAAa,GACbC,WAAY,GACZC,SAAUC,KAAKC,MAAMC,aAAaC,QAAQ,cAAgB,KAG9DC,WAAY,CACVC,eAAAA,EAAAA,GAEFC,QAAS,CA6BPC,QAAQlD,EAAO,EAAGsC,GAChB,MAAMa,EAAO,8DACb1C,KAAKiC,SAASU,SAAQ7B,IACpBd,KAAK4C,MAAMC,IAAK,GAAEH,KAAO5B,KACxBgC,MAAMC,IACL/C,KAAK8B,SAASkB,KAAKD,EAAInD,aAK7BqD,UAAUnC,EAAMoC,EAAM,GACpB,MAAMtD,EAAO,CACXuD,WAAYrC,EAAKC,GACjBmC,IAAAA,GAEFlD,KAAK4C,MAAMQ,KAAM,2DAAkE,CAAExD,KAAAA,IACpFkD,MAAK,KACJO,EAAAA,EAAAA,KAAa,eAEdC,OAAOC,IACNC,QAAQC,IAAIF,EAAI3D,KAAK8D,aAIzBC,eAAe5C,GACb,MAAM6C,EAAa5D,KAAKiC,SAAS4B,WAAU/C,GAAQA,IAASC,IAC5D,IAAoB,IAAhB6C,EACF5D,KAAKiC,SAASe,KAAKjC,OACd,CACLf,KAAKiC,SAAS6B,OAAOF,EAAY,GACjC,MAAMG,EAAY/D,KAAK8B,SAAS+B,WAAU/C,GAAQA,EAAKG,QAAQF,KAAOA,IACtEf,KAAK8B,SAASgC,OAAOC,EAAW,MAItCC,MAAO,CACL/B,SAAU,CACRgC,UAGE7B,aAAa8B,QAAQ,WAAYhC,KAAKiC,UAAUnE,KAAKiC,YAEvDmC,MAAM,IAGVC,UACErE,KAAKyC,Y,UCpJT,MAAMvC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://shop/./src/components/PaginationView.vue","webpack://shop/./src/components/PaginationView.vue?d04d","webpack://shop/./src/views/Front/FavoritesView.vue","webpack://shop/./src/views/Front/FavoritesView.vue?ace2"],"sourcesContent":["<template>\r\n      <!-- 分頁按鈕 -->\r\n    <nav aria-label=\"Page navigation example\">\r\n      <!-- 至中ver -->\r\n        <ul class=\"pagination justify-content-center\">\r\n      <!-- 靠左ver -->\r\n        <!-- <ul class=\"pagination\"> -->\r\n        <li class=\"page-item\" :class=\"{ disabled : !pages.has_pre }\">\r\n            <a class=\"page-link\" href=\"#\" aria-label=\"Previous\" @click.prevent=\" $emit('get-data', inside_pages.current_page - 1)\">\r\n            <span aria-hidden=\"true\">&laquo;</span>\r\n            </a>\r\n        </li>\r\n        <li class=\"page-item\" v-for=\" page in pages.total_pages \" :key=\" page + 'page'\" :class=\" {active: page === pages.current_page}\">\r\n            <!-- 追加 .prevent 無效 a link 轉址 -->\r\n            <a class=\"page-link\" href=\"\" @click.prevent=\" $emit('get-data', page) \"> {{ page }} </a>\r\n        </li>\r\n        <li class=\"page-item\" :class=\"{ disabled : !pages.has_next }\" >\r\n            <a class=\"page-link\" href=\"#\" aria-label=\"Next\" @click.prevent=\" $emit('get-data', inside_pages.current_page + 1)\" >\r\n            <span aria-hidden=\"true\">&raquo;</span>\r\n            </a>\r\n        </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data(){\r\n      return {\r\n        inside_pages: {}\r\n      }\r\n    },\r\n    props: ['pages'],\r\n    updated() {\r\n      this.inside_pages = this.pages\r\n    }\r\n}\r\n</script>\r\n","import { render } from \"./PaginationView.vue?vue&type=template&id=2c7fdead\"\nimport script from \"./PaginationView.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\admin\\\\Desktop\\\\Coding\\\\Learn-Code\\\\mingbookshop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <!-- 分類 -->\n    <nav class=\"navbar navbar-expand-lg navbar-light justify-content-center border border-start-0 border-end-0 border-top border-bottom\">\n      <div class=\"navbar-nav flex-row overflow-auto navbar-custom-scroll\">\n        <router-link class=\"nav-item nav-link text-nowrap px-2\" to=\"/products\">全部商品</router-link>\n        <router-link class=\"nav-item nav-link text-nowrap px-2\" to=\"/favorites\">關注清單</router-link>\n      </div>\n    </nav>\n    <div class=\"container mt-md-5 mt-3 mb-7\" style=\"min-height: 100vh\">\n      <div class=\"row\">\n        <!-- 沒關注的商品的話 -->\n        <div v-if=\"favorite.length === 0\"  class=\"d-flex justify-content-center my-5\">\n          <div class=\"col-md-6 card text-center\" style=\"\">\n            <div class=\"card-body\">\n              <strong ><p class=\"m-0 text-primary\" style=\"font-size: 2rem;\">目前沒有關注的商品哦</p></strong>\n              <router-link to=\"/products\">\n              <button type=\"button\" class=\"col-4 btn btn-outline-primary mt-2\">前去逛逛</button>\n              </router-link>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"col-md-6 col-lg-4 col-xl-3\" v-for=\"item in products\" :key=\"item.id\" style=\"height: auto\">\n            <div class=\"card border-0 mb-4 position-relative rounded\">\n              <!-- 圖片 -->\n              <figure style=\"\" class=\"figure d-flex flex-column justify-content-center align-items-center position-relative pt-3\">\n                <i v-if=\"favorite.includes(item.product.id)\" @click=\"toggleFavorite(item.product.id)\" class=\"bi bi-heart-fill position-absolute btn btn-lg\" style=\"right: 3px; top: 3px; color:red;\"></i>\n                <i v-else @click=\"toggleFavorite(item.product.id)\" class=\"bi bi-suit-heart position-absolute btn btn-lg\" style=\"right: 3px; top: 3px; color:red;\"></i>\n                <router-link style=\"text-decoration:none;\" :to=\"`/product/${item.product.id}`\">\n                  <img style=\"height:200px\" :src=\"item.product.imageUrl\" alt=\"\" class=\"figure-img img-fluid rounded\">\n                </router-link>\n              </figure>\n              <!-- 商品資料 -->\n              <div class=\"card-body d-flex flex-column justify-content-center align-items-center pt-0\">\n                <h4 class=\"mb-0\">\n                  <!-- text-decoration:none; 去除底線 -->\n                  <router-link class=\"card-text text-muted\" :to=\"`/product/${item.product.id}`\" style=\"text-decoration:none;\">\n                    <!-- 限制title size得用p、英文字跟中文 rem不太一樣、滑鼠hover顏色 -->\n                    <!-- 商品標題 -->\n                    <p class=\"fs-5 mb-1\" style=\"color:black; height: 1.5rem; overflow:hidden;\" onmouseover=\"this.style.color='#B08968';\" onmouseout=\"this.style.color='';\">{{item.product.title}}</p>\n                  </router-link>\n                </h4>\n                <p class=\"card-text text-muted mb-0\" style=\"height: 4.5rem; overflow:hidden;\">{{item.product.description}}</p>\n                <div class=\"d-flex justify-content-between align-items-center col-12\">\n                  <div class=\"\">\n                    <p style=\"white-space: nowrap; text-align: center\" class=\"mb-0 text-muted text-end mt-2\"><del>NT$ {{ item.product.origin_price }} / {{ item.product.unit }}</del></p>\n                    <p style=\"white-space: nowrap; text-align: center\" class=\"h4 fw-bold text-end mt-1 fs-5\">NT$ {{ item.product.price }} / {{ item.product.unit }}</p>\n                  </div>\n                  <div>\n                    <button @click.prevent=\"addToCart(item.product)\" style=\"white-space: nowrap\" type=\"button\" class=\"btn btn-secondary text-end \">加入購物車</button>\n                  </div>\n                </div>\n              </div>\n            </div>\n        </div>\n\n      </div>\n    </div>\n\n</template>\n\n<script>\n\nimport emitter from '@/libs/emitter'\nimport PaginationView from '@/components/PaginationView.vue'\nexport default {\n  data() {\n    return {\n      category: 'all', // 商品分類 分流用\n      products: [], // API抓下來儲存商品用 - 分頁ver\n      productsAll: [], // API抓下來儲存商品用 - allver\n      pagination: '', // 分頁用\n      favorite: JSON.parse(localStorage.getItem('favorite')) || [] // favorlist 儲存用 - 抓 localStorage 的資料 (需要轉乘json才能使用 localStorage存的是文字) (需要有預設值 [] 因為一開始是空的話會出錯 ex ? 結構問題)\n    }\n  },\n  components: {\n    PaginationView\n  },\n  methods: {\n    // 抓商品資料 - async ver 失敗ing - 非同步關係 foreach 抓資料每次順序會不一樣\n    // asynctest(){\n    //   // const ary = []\n    //   this.favorite.forEach(item => {\n    //       console.log('item', item)\n    //       const ary = []\n    //       this.ary = this.getData(item)\n    //       console.log('ary', ary)\n    //   })\n    // },\n    // async getData(item){\n    //   try {\n    //     const url = `${process.env.VUE_APP_url}/api/${process.env.VUE_APP_path}/product`\n    //     const res = await this.$http.get(`${url}/${item}`)\n    //       .then((res) => {\n    //         this.products.push(res.data)\n    //         console.log('123')\n    //         console.log(this.products)\n    //         return res.data\n    //       })\n    //       console.log('1234')\n    //       return res.data\n    //   } catch (err){\n    //     console.dir(err)\n    //   }\n    // },\n\n    // 抓商品資料 - 關注 ver\n    getData(page = 1, category){\n      const url = `${process.env.VUE_APP_url}/api/${process.env.VUE_APP_path}/product`\n      this.favorite.forEach(item => {\n        this.$http.get(`${url}/${item}`)\n        .then((res) => {\n          this.products.push(res.data)\n        })\n      })\n    },\n    // 加入購物車 這裡 用html傳進來的 item抓id、qty先暫時用預設 還沒有做數量功能\n    addToCart(item, qty = 1){\n      const data = {\n        product_id: item.id,\n        qty\n      }\n      this.$http.post(`${process.env.VUE_APP_url}/api/${process.env.VUE_APP_path}/cart`, { data })\n      .then(() => {\n        emitter.emit('get-cart') // 此處觸發 NAVBAR接收\n      })\n      .catch((err) => {\n        console.dir(err.data.message)\n      })\n    },\n    // 最愛狀態更換 - findIndex 判定 id是否存在 不存在加入 存在刪除\n    toggleFavorite(id){\n      const favoriteId = this.favorite.findIndex(item => item === id)\n      if (favoriteId === -1){ //  findIndex 沒有的話會 -1 而 -1 也是 true\n        this.favorite.push(id)\n      } else { // findIndex 有的話會回傳 目標在array的 index位置\n        this.favorite.splice(favoriteId, 1)\n        const productId = this.products.findIndex(item => item.product.id === id) // 同上面 favoriteId 刪減 應用在 products 上 只是結構不同 需要改成 item.product.id\n        this.products.splice(productId, 1)\n      }\n    }\n  },\n  watch: {\n    favorite: { // 因為是 陣列 所以需要 深層監聽\n      handler(){ // 控制器\n        // localStorage.setItem('自訂的欄位名稱', 要帶入的 JSON檔案 )\n        // localStorage 沒辦法存 JSON 所以得先轉成字串\n        localStorage.setItem('favorite', JSON.stringify(this.favorite)) // 資料變動的時候寫入到 localStorage\n      },\n      deep: true // 深層監聽\n    }\n  },\n  mounted() {\n    this.getData()\n    // this.asynctest()\n  }\n}\n</script>\n","import { render } from \"./FavoritesView.vue?vue&type=template&id=f41b8980\"\nimport script from \"./FavoritesView.vue?vue&type=script&lang=js\"\nexport * from \"./FavoritesView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\admin\\\\Desktop\\\\Coding\\\\Learn-Code\\\\mingbookshop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_3","_hoisted_6","_createElementBlock","disabled","$props","has_pre","href","onClick","_ctx","$data","current_page","_Fragment","_renderList","total_pages","page","active","key","_hoisted_5","has_next","data","inside_pages","props","updated","this","pages","__exports__","render","style","type","onmouseover","onmouseout","_createVNode","_component_router_link","to","length","_hoisted_10","_hoisted_11","item","id","includes","product","$options","src","imageUrl","alt","_toDisplayString","title","description","origin_price","unit","price","_hoisted_25","category","products","productsAll","pagination","favorite","JSON","parse","localStorage","getItem","components","PaginationView","methods","getData","url","forEach","$http","get","then","res","push","addToCart","qty","product_id","post","emitter","catch","err","console","dir","message","toggleFavorite","favoriteId","findIndex","splice","productId","watch","handler","setItem","stringify","deep","mounted"],"sourceRoot":""}