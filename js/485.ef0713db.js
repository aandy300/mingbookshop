"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[485],{5485:function(e,t,l){l.r(t),l.d(t,{default:function(){return me}});var s=l(6252),r=l(3577);const c={key:0,class:"container"},d={class:"row d-flex justify-content-center align-items-center"},n={class:"row d-flex flex-nowrap justify-content-center align-items-center"},i=(0,s.uE)('<div style="max-width:18rem;" class="col-3 d-none d-sm-block card- text-balck bg-info my-5 mx-4 rounded"><div class="d-flex flex-column flex-nowrap justify-content-center align-items-center"><i class="bi bi-check2-circle mt-2" style="font-size:40px;"></i><p class="card-text text-center m-0">Step1</p><p class="card-text text-center mb-2">確認訂單</p></div></div><div style="max-width:18rem;" class="col-3 d-none d-sm-block card- text-balck bg-info my-5 mx-4 rounded"><div class="d-flex flex-column flex-nowrap justify-content-center align-items-center"><i class="bi bi-check2-circle mt-2" style="font-size:40px;"></i><p class="card-text text-center m-0">Step2</p><p class="card-text text-center mb-2">建立訂單</p></div></div>',2),o={key:0,style:{"max-width":"18rem"},class:"col-3 d-none d-sm-block card- text-white bg-secondary my-5 mx-4 rounded"},a=(0,s._)("div",{class:"d-flex flex-column flex-nowrap justify-content-center align-items-center"},[(0,s._)("i",{class:"bi bi-check2-circle mt-2",style:{"font-size":"40px"}}),(0,s._)("p",{class:"card-text text-center m-0"},"Step3"),(0,s._)("p",{class:"card-text text-center mb-2"},"付款")],-1),x=[a],p={key:1,style:{"max-width":"18rem"},class:"col-3 d-none d-sm-block card- text-white bg-secondary my-5 mx-4 rounded"},m=(0,s._)("div",{class:"d-flex flex-column flex-nowrap justify-content-center align-items-center"},[(0,s._)("i",{class:"bi bi-dash-circle-dotted mt-2",style:{"font-size":"40px"}}),(0,s._)("p",{class:"card-text text-center m-0"},"Step3"),(0,s._)("p",{class:"card-text text-center mb-2"},"付款")],-1),_=[m],u={key:2,style:{"max-width":"18rem"},class:"col-10 d-flex flex-column align-items-center d-block d-sm-none card- text-white bg-secondary my-5 mx-4 rounded"},y=(0,s._)("i",{class:"bi bi-check2-circle mt-2",style:{"font-size":"40px"}},null,-1),w=(0,s._)("p",{class:"card-text text-center m-0"},"Step3",-1),h=(0,s._)("p",{class:"card-text text-center mb-2"},"付款",-1),b=[y,w,h],f={key:3,style:{"max-width":"18rem"},class:"col-10 d-flex flex-column align-items-center d-block d-sm-none card- text-white bg-secondary my-5 mx-4 rounded"},g=(0,s._)("i",{class:"bi bi-dash-circle-dotted mt-2",style:{"font-size":"40px"}},null,-1),v=(0,s._)("p",{class:"card-text text-center m-0"},"Step3",-1),k=(0,s._)("p",{class:"card-text text-center mb-2"},"付款",-1),z=[g,v,k],D={class:"d-flex justify-content-center"},S={class:"col-6 border border-dark text-center",style:{}},j={class:"card-body"},O={key:0},T=(0,s._)("p",{class:"m-0",style:{"font-size":"2rem",color:"green"}},"已付款",-1),$=[T],C={key:1},q=(0,s._)("p",{class:"m-0",style:{"font-size":"2rem",color:"red"}},"尚未付款",-1),E=[q],H={class:"container mt-5"},I={class:"row row-cols-1 row-cols-md-2 row-cols-lg-2"},K={class:"col mb-9"},Y=(0,s._)("h4",null,"訂單資訊",-1),Z={class:"table"},A=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{style:{"max-width":"350px"}},"品名"),(0,s._)("th",{nowrap:"nowrap",style:{}},"數量"),(0,s._)("th",{nowrap:"nowrap",style:{}},"小計")])],-1),B={class:"d-flex"},F={class:"position-relative"},G={class:"position-absolute start-50"},J={class:"d-flex justify-content-end align-items-center flex-nowrap"},L=(0,s._)("div",{class:"d-flex flex-nowrap fs-2 fw-bolder text-end",style:{"white-space":"nowarp","word-break":"keep-all"}},"總金額: ",-1),M={class:"text-end",style:{color:"red","font-size":"1.5rem"}},N={class:"col mb-5"},P=(0,s._)("h4",null,"訂單細節",-1),Q={class:"table"},R=(0,s._)("th",{style:{width:"100px"}},"下訂時間",-1),U=(0,s._)("th",{style:{width:"100px"}},"訂單編號",-1),V=(0,s._)("th",null,"付款狀態",-1),W={key:0,class:"text-success"},X={key:1,class:"text-muted"},ee=(0,s._)("th",{style:{width:"100px"}},"收件人名稱",-1),te=(0,s._)("th",{style:{width:"100px"}},"收件人信箱",-1),le=(0,s._)("th",{style:{width:"100px"}},"收件人電話",-1),se=(0,s._)("th",{style:{width:"100px"}},"收件人地址",-1),re=(0,s._)("th",{style:{width:"100px"}},"留言",-1),ce=(0,s._)("th",{style:{width:"100px"}},"訂單總金額",-1),de={style:{color:"red","text-align":"end","font-size":"1.5rem"}},ne={class:""},ie=["disabled"];function oe(e,t,l,a,m,y){return m.ready?((0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("div",d,[(0,s._)("div",n,[i,m.order.is_paid?((0,s.wg)(),(0,s.iD)("div",o,x)):((0,s.wg)(),(0,s.iD)("div",p,_)),m.order.is_paid?((0,s.wg)(),(0,s.iD)("div",u,b)):((0,s.wg)(),(0,s.iD)("div",f,z))]),(0,s._)("div",D,[(0,s._)("div",S,[(0,s._)("div",j,[m.order.is_paid?((0,s.wg)(),(0,s.iD)("strong",O,$)):((0,s.wg)(),(0,s.iD)("strong",C,E))])])]),(0,s._)("div",H,[(0,s._)("div",I,[(0,s._)("div",K,[Y,(0,s._)("table",Z,[A,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(m.order.products,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id},[(0,s._)("td",B,(0,r.zw)(e.product.title),1),(0,s._)("td",null,(0,r.zw)(e.qty),1),(0,s._)("td",null,(0,r.zw)(e.total),1)])))),128))]),(0,s._)("tfoot",null,[(0,s._)("div",F,[(0,s._)("div",G,[(0,s._)("div",J,[L,(0,s._)("div",M,[(0,s._)("strong",null,(0,r.zw)(m.order.total),1)])])])])])])]),(0,s._)("div",N,[P,(0,s._)("table",Q,[(0,s._)("tbody",null,[(0,s._)("tr",null,[R,(0,s._)("td",null,(0,r.zw)(new Date(1e3*m.order.create_at).toISOString().split("T").toString().slice(0,-5).replace(",","-")),1)]),(0,s._)("tr",null,[U,(0,s._)("td",null,(0,r.zw)(m.order.id),1)]),(0,s._)("tr",null,[V,(0,s._)("td",null,[m.order.is_paid?((0,s.wg)(),(0,s.iD)("strong",W,"已付款")):((0,s.wg)(),(0,s.iD)("span",X,"尚未付款"))])]),(0,s._)("tr",null,[ee,(0,s._)("td",null,(0,r.zw)(m.order.user.name),1)]),(0,s._)("tr",null,[te,(0,s._)("td",null,(0,r.zw)(m.order.user.email),1)]),(0,s._)("tr",null,[le,(0,s._)("td",null,(0,r.zw)(m.order.user.tel),1)]),(0,s._)("tr",null,[se,(0,s._)("td",null,(0,r.zw)(m.order.user.address),1)]),(0,s._)("tr",null,[re,(0,s._)("td",null,(0,r.zw)(m.order.message),1)]),(0,s._)("tr",null,[ce,(0,s._)("td",de,[(0,s._)("strong",null,(0,r.zw)(m.order.total),1)])])])]),(0,s._)("div",ne,[(0,s._)("button",{type:"button",class:"btn btn-primary col-12",disabled:m.order.is_paid,onClick:t[0]||(t[0]=e=>y.payOrder())},"確認付款",8,ie)])])])])])])):(0,s.kq)("",!0)}var ae={data(){return{ready:!1,order:{create_at:"",is_paid:"",message:"",total:0,user:{}}}},components:{},methods:{getOrders(){const e=this.$route.params.id;this.$http(`https://vue3-course-api.hexschool.io/v2/api/ming123/order/${e}`).then((e=>{console.log(e),this.order=e.data.order,this.ready=!0}))},payOrder(){const e=this.$route.params.id;this.$http.post(`https://vue3-course-api.hexschool.io/v2/api/ming123/pay/${e}`).then((()=>{this.getOrders(),this.scrollToTop()})).catch((e=>{console.dir(e)}))},scrollToTop(){window.scrollTo(0,0)}},mounted(){this.getOrders()}},xe=l(3744);const pe=(0,xe.Z)(ae,[["render",oe]]);var me=pe}}]);
//# sourceMappingURL=485.ef0713db.js.map